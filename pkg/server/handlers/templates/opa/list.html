{{define "title"}}OPAs Configured{{end}}

{{define "content"}}
<div class="page-content">
    <h2>New OPA</h2>
    <form action="/opas" method="POST">
        <div class="form-group">
            <label for="ref">Ref, e.g. styra-charlie</label><br>
            <input type="text" id="ref" name="ref" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="system_id">System ID, e.g. dd765473009c482c8814ccdd6c952fdc</label><br>
            <input type="text" id="system_id" name="system_id" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="token">Token e.g. YzLevReXoHExxxxxxxxxxxxxxxxxxxbrAfAUpjcFJFCC84onziESxxxxxxxxxxxxxxxxxxxx4MG8j03Z2nrylE6K-A</label><br>
            <input type="text" id="token" name="token" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="endpoint">Endpoint, e.g. https://charlie.svc.styra.com/v1</label><br>
            <input type="text" id="endpoint" name="endpoint" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Create</button>
    </form>

    <h2>OPAs Configured</h2>
    <ul>
        {{ range $opa := .OPAs }}
        <li>
            <div>
                <h3>{{ $opa }}</h3>

                <ul>
                    <li>
                        <a href="/opas/{{ $opa }}">Config</a>
                    </li>
                    <li>
                        <a href="/demo/{{ $opa }}">Demo</a>
                    </li>
                </ul>
            </div>
        </li>
        {{end}}
    </ul>

</div>
{{end}}